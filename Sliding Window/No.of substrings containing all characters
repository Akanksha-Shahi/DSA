#include<iostream>
#include<unordered_map>
#include<vector>
#include <algorithm>
using namespace std;
// brute: find all substrings
int func( string &s){
    int count =0;
    int n = s.size()
    for( int i =0; i<n; i++){
        unordered_map<char, int> mpp;
        for( int j =i; j<n; j++){
            mpp[s[j] -"a"] =1;
            if( mpp[0]+ mpp[1]+ mpp[2] == 3) count++;
        }
    }
    return count;
}


// better: 
int func1( string &s){
    int count =0;
    int n = s.size()
    for( int i =0; i<n; i++){
        unordered_map<char, int> mpp;
        for( int j =i; j<n; j++){
            mpp[s[j] -"a"] =1;
            if( mpp[0]+ mpp[1]+ mpp[2] == 3) count += (n-j);
            else break;
        }
    }
    return count;}


// optimal: use 2 pointer ans sliding window
int func2( string &s){
    lastseen[3] = {-1,-1,-1};
    int count =0;
     for( int i =0; i<n; i++){
        lastseen [s[i]-"a"]=i;
        if( lastseen[0] != -1 && lastseen[1] != -1 && lastseen[2] != -1){
            count += (1+ min( lastseen[0], min( lastseen[1], lastseen[2])));
        }
    }
    return count;    
}
int main(){
    string s = "abcabc";
    int ans= func( s);
    cout<< ans<< endl;
    return 0;
}



}
