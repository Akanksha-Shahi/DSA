#include<iostream>
#include<set>
#include<vector>
#include <algorithm>
using namespace std;
// brute: generate all subarrays
int basket(vector<int>&arr ){
    int n = arr.size();
    int maxlen =0;
    for ( int i=0; i<n; i++){
        set<int> st;
        for( int j =i; j<n; j++){
            st.insert(arr[j]);
            if( st.size()<= 2) maxlen= max(maxlen, j-i+1);
            else break;
        }
    }
    return maxlen;
}

// better: use two pointer and a hash map data structure
int func ( vector<int> &arr, int k){
    int l =0, r=0, maxlen=0;
    unordered_map<int, int> mpp;
    while( r < arr.size()){
        mpp[arr[r]]++;
        if ( mpp.size() > k){
            while( mpp.size() > k){
                mpp[arr[l]]--;
                if ( mpp[arr[l]] == 0) mpp.erase(arr[l]);
                l++;
            }
        }
        if ( mpp.size() <= k) maxlen = max( maxlen, r-l+1);
        r++;
    }
    return maxlen;
}
