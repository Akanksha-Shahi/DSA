#include<bits/stdc++.h>
using namespace std;
// brute: O(n^2)
string func( string &s, string &t){
    int minlen = INT_MAX;
    int sIndex =-1;
    int count=0;
    for( int i =0; i< s.size(); i++){
        hash[256]={0};
        for( int j = 0; j<t.size(); j++) hash[t[j]]++;
        for( int j=0; j<s.size(); j++){
            if( hash[s[j]] >0) count++;
            hash[s[j]]--;
            if( count == t.size()){
                if( j - i + 1 < minlen){
                    minlen = j - i + 1;
                    sIndex = i;
                }
                break;
            }
        }
        s.substr(sIndex, minlen);  
    }
}


// optimal
string funct1( string &s, string &t){
    hasg[256]={0};
    int l=0, r=0, minlen = INT_MAX, sIndex =-1, count=0;
    for( int i =0; i<t.size(); i++) hash[t[i]]++;
    while( r<s.size()){
        if( hash[s[r]] >0) count++;
        hash[s[r]]--;
        while( count == t.size()){
            if( r - l + 1 < minlen){
                minlen = r - l + 1;
                sIndex = l;
            }
            hash[s[l]]++;
            if( hash[s[l]] >0) count--;
            l++;
        }
        r++;
    }
    return sIndex == -1 ? "" : s.substr(sIndex, minlen);
}
int main(){
    string s = "ADOBECODEBANC";
    string t = "ABC";
    cout << func( s, t) << endl;
    cout << funct1( s, t) << endl;
    return 0;
}
