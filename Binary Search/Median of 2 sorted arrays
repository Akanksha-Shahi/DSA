// brute: by merge sort concept
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;
double median(vector<int> &arr1, vector<int> &arr2){
    int n1 = arr1.size();
    int n2 = arr2.size();
    vector<int> arr3;
    int i =0, j =0;
    while( i < n1 && j < n2){
        if ( arr1[i] < arr2[j]){
            arr3.push_back( arr1[i]);
            i++;
        }
        else {
            arr3.push_back( arr2[j]);
            j++;
        }
    }
    while( i < n1){
        arr3.push_back( arr1[i++]);
    }
    while( j < n2){
        arr3.push_back( arr2[j++]);
    }
    int n = n1 + n2;
    if ( n % 2 == 1){
        return arr3[n/2];}
    return ( double) (( double)(arr3[n/2]) + ( double)(arr3[(n/2)-1]))/2.0;    
}
int main(){
    int n1, n2;
    cout<<" Enter the sizes of the two arrays: ";
    cin>> n1 >> n2;
    vector <int> arr1(n1);
    vector <int> arr2(n2);
    cout<<" Enter the elements of the first array: ";
    for ( int i =0; i<n1; i++){
        cin>> arr1[i];
    }
    cout<<" Enter the elements of the second array: ";
    for ( int i =0; i<n2; i++){
        cin>> arr2[i];
    }
    double result = median(arr1, arr2);
    cout<<" The median of the two sorted arrays is: "<< result << endl;
    return 0;
}



// better: by merging till median
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;
double median(vector<int> &arr1, vector<int> &arr2){
    int n1 = arr1.size();
    int n2 = arr2.size();
    int i =0, j =0;
    int n = (n1 + n2);
    int ind2 = n/2;
    int ind1 = ind2 -1;
    int count =0;
    int m1 =-1, m2 =-1;
    while ( i< n1 && j< n2){
        if ( arr1[i] < arr2[j]){
            if ( count == ind1) m1 = arr1[i];
            if ( count == ind2) m2 = arr1[i];
            count++;
            i++;
        }
        else {
            if ( count == ind1) m1 = arr2[j];
            if ( count == ind2) m2 = arr2[j];
            count++;
            j++;
        }
    }
    while ( i < n1){
        if ( count == ind1) m1 = arr1[i];
        if ( count == ind2) m2 = arr1[i];
        count++;
        i++;
    }
    while ( j < n2){
        if ( count == ind1) m1 = arr2[j];
        if ( count == ind2) m2 = arr2[j];
        count++;
        j++;
    }
    if ( n % 2 == 1){
        return m2;
    }
    return ( double) (( double)(m1) + ( double)(m2))/2.0;    
}
