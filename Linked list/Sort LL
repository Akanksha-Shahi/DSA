#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;
class Node {
    public:
    int data;
    Node* next;
    Node* prev;
    Node* child;

    public:
    Node( int data1, Node* next1, Node* prev1, Node* child1) {         // constructor
        data = data1;
        next = next1;
        prev = prev1;
        child = child1;
    }

    public:
    Node (int data1) {         // constructor
        data = data1;
        next = nullptr;
        prev = nullptr;
        child = nullptr;
    }
};
// brute: put in array and sort
Node* sortLL( Node* head){
    if ( head == NULL || head->next == NULL) return head;
    vector<int> arr;
    Node* temp = head;
    while( temp != NULL){
        arr.push_back( temp->data);
        temp = temp->next;
    }
    sort( arr.begin(), arr.end());
    int i= 0;
    temp = head;
    while( temp != NULL){
        temp->data = arr[i];
        i++;
        temp = temp->next;
    }
    return head;
};

// optimal: Merge Sort
Node* findMiddle( Node* head){
    Node* slow = head;
    Node* fast = head->next;
    while( fast != NULL && fast->next != NULL){
        slow = slow->next;
        fast = fast->next->next;
    }
    return slow;
}
Node* meregTwoLists( Node* list1, Node* list2){
    Node* dummyNode = new Node(-1);
    Node* temp = dummyNode;
    while( list1 != NULL && list2 != NULL){
        if ( list1->data < list2->data){
            temp->next = list1;
            temp = list1;
            list1 = list1->next;
        }
        else{
            temp->next = list2;
            temp = list2;
            list2 = list2->next;
        }
    }
    if ( list1 != NULL) temp->next = list1;
    else temp->next = list2;
    return dummyNode->next;
}
Node* sortLL (Node* head){
    if ( head == NULL || head->next == NULL) return head;
    Node* middle = findMiddle( head);
    Node* right = middle->next;
    middle->next = NULL;
    Node* left = head;
    left = sortLL( left);
    right = sortLL( right);
    return meregTwoLists( left, right);
}
int main(){
    return 0;
} 
