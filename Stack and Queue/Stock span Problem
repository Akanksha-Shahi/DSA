#include <bits/stdc++.h>
using namespace std;
// brute: use a dynamic list
class StockSpanner{
    vector<int> arr;
    StockSpanner(){};
    int next ( int val){
        arr.push_back(val);
        int count =1;
        for( int i=arr.size()-2; i>=0; i--){
            if(arr[i]<=val) count++;
            else break;
        }
        return count;
    }
};

// better: using stack
class StockSpanner{
    stack<pair<int, int>> st;
    int ind;
    StockSpanner(){
        ind =-1;
    }
    int next(int val){
        ind++;
        while(!st.empty() && st.top().first<=val) st.pop();
        int ans;
        if (st.empty())
            ans = ind + 1;
        else
            ans = ind - st.top().second;
        st.push({val,ind});
        return ans;
    }
}
